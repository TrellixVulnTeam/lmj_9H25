{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Desktop/Codes/lmj/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState}from\"react\";import axios from\"axios\";var Subscribe=function Subscribe(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showError=_useState4[0],setShowError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),sending=_useState8[0],setSending=_useState8[1];var handleSubmit=function handleSubmit(e){e.preventDefault();setEmail(email);if(email!==\"\"){setSending(true);axios.post(\"/subscribe\",{email:email}).then(function(){setEmail(\"\");setSending(false);setSuccess(true);}).catch(function(){setSending(false);setShowError(true);}).finally(function(){setTimeout(function(){setSuccess(false);setShowError(false);},5000);});}else{setTimeout(setTimeout(function(){return setShowError(true);},3000));}};return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid bg-primary py-6 subscribe\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 col-lg-6 mx-auto\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-light font-weight-bold mb-3\",children:\"Subscribe to our newsletters\"}),/*#__PURE__*/_jsx(\"form\",{action:\"/subscribe\",method:\"POST\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-2 d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"p-2 px-md-4 rounded-top w-100 border-0\",type:\"email\",name:\"email\",placeholder:\"yourname@email.com\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true,pattern:\"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\"}),showError?/*#__PURE__*/_jsx(\"p\",{className:\"lead mt-2 text-danger\",children:\"Please, try again\"}):sending?/*#__PURE__*/_jsx(\"p\",{className:\"lead mt-2 text-secondary\",children:\"Subscribing...\"}):success?/*#__PURE__*/_jsx(\"p\",{className:\"lead mt-2 text-light\",children:\"Thanks for subscribing to my newsletter\"}):\"\",/*#__PURE__*/_jsx(\"button\",{id:\"submit\",className:\"btn bg-primary__light text-light p-2 rounded-bottom\",type:\"submit\",children:\"Submit\"})]})})]})})});};export default Subscribe;","map":{"version":3,"sources":["/Users/mac/Desktop/Codes/lmj/client/src/Components/Reusable Components/Subscribe.js"],"names":["React","useState","axios","Subscribe","email","setEmail","showError","setShowError","success","setSuccess","sending","setSending","handleSubmit","e","preventDefault","post","then","catch","finally","setTimeout","target","value"],"mappings":"kPAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,eACGF,QAAQ,CAAC,EAAD,CADX,wCAChBG,KADgB,eACTC,QADS,8BAEWJ,QAAQ,CAAC,KAAD,CAFnB,yCAEhBK,SAFgB,eAELC,YAFK,8BAGON,QAAQ,CAAC,KAAD,CAHf,yCAGhBO,OAHgB,eAGPC,UAHO,8BAIOR,QAAQ,CAAC,KAAD,CAJf,yCAIhBS,OAJgB,eAIPC,UAJO,eAMvB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC3BA,CAAC,CAACC,cAAF,GACAT,QAAQ,CAACD,KAAD,CAAR,CAEA,GAAIA,KAAK,GAAK,EAAd,CAAkB,CACjBO,UAAU,CAAC,IAAD,CAAV,CACAT,KAAK,CACHa,IADF,CACO,YADP,CACqB,CAAEX,KAAK,CAALA,KAAF,CADrB,EAEEY,IAFF,CAEO,UAAM,CACXX,QAAQ,CAAC,EAAD,CAAR,CACAM,UAAU,CAAC,KAAD,CAAV,CACAF,UAAU,CAAC,IAAD,CAAV,CACA,CANF,EAOEQ,KAPF,CAOQ,UAAM,CACZN,UAAU,CAAC,KAAD,CAAV,CACAJ,YAAY,CAAC,IAAD,CAAZ,CACA,CAVF,EAWEW,OAXF,CAWU,UAAM,CACdC,UAAU,CAAC,UAAM,CAChBV,UAAU,CAAC,KAAD,CAAV,CACAF,YAAY,CAAC,KAAD,CAAZ,CACA,CAHS,CAGP,IAHO,CAAV,CAIA,CAhBF,EAiBA,CAnBD,IAmBO,CACNY,UAAU,CAACA,UAAU,CAAC,iBAAMZ,CAAAA,YAAY,CAAC,IAAD,CAAlB,EAAD,CAA2B,IAA3B,CAAX,CAAV,CACA,CACD,CA1BD,CA4BA,mBACC,YAAK,SAAS,CAAC,2CAAf,uBACC,YAAK,SAAS,CAAC,uBAAf,uBACC,aAAK,SAAS,CAAC,2BAAf,wBACC,WAAI,SAAS,CAAC,kCAAd,0CADD,cAEC,aAAM,MAAM,CAAC,YAAb,CAA0B,MAAM,CAAC,MAAjC,CAAwC,QAAQ,CAAEK,YAAlD,uBACC,aAAK,SAAS,CAAC,oCAAf,wBACC,cACC,SAAS,CAAC,wCADX,CAEC,IAAI,CAAC,OAFN,CAGC,IAAI,CAAC,OAHN,CAIC,WAAW,CAAC,oBAJb,CAKC,KAAK,CAAER,KALR,CAMC,QAAQ,CAAE,kBAACS,CAAD,QAAOR,CAAAA,QAAQ,CAACQ,CAAC,CAACO,MAAF,CAASC,KAAV,CAAf,EANX,CAOC,QAAQ,KAPT,CAQC,OAAO,CAAC,0CART,EADD,CAWEf,SAAS,cACT,UAAG,SAAS,CAAC,uBAAb,+BADS,CAENI,OAAO,cACV,UAAG,SAAS,CAAC,0BAAb,4BADU,CAEPF,OAAO,cACV,UAAG,SAAS,CAAC,sBAAb,qDADU,CAGV,EAlBF,cAoBC,eAAQ,EAAE,CAAC,QAAX,CAAoB,SAAS,CAAC,qDAA9B,CAAoF,IAAI,CAAC,QAAzF,oBApBD,GADD,EAFD,GADD,EADD,EADD,CAmCA,CArED,CAuEA,cAAeL,CAAAA,SAAf","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst Subscribe = () => {\n\tconst [email, setEmail] = useState(\"\");\n\tconst [showError, setShowError] = useState(false);\n\tconst [success, setSuccess] = useState(false);\n\tconst [sending, setSending] = useState(false);\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tsetEmail(email);\n\n\t\tif (email !== \"\") {\n\t\t\tsetSending(true);\n\t\t\taxios\n\t\t\t\t.post(\"/subscribe\", { email })\n\t\t\t\t.then(() => {\n\t\t\t\t\tsetEmail(\"\");\n\t\t\t\t\tsetSending(false);\n\t\t\t\t\tsetSuccess(true);\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tsetSending(false);\n\t\t\t\t\tsetShowError(true);\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetSuccess(false);\n\t\t\t\t\t\tsetShowError(false);\n\t\t\t\t\t}, 5000);\n\t\t\t\t});\n\t\t} else {\n\t\t\tsetTimeout(setTimeout(() => setShowError(true), 3000));\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"container-fluid bg-primary py-6 subscribe\">\n\t\t\t<div className=\"container text-center\">\n\t\t\t\t<div className=\"col-md-8 col-lg-6 mx-auto\">\n\t\t\t\t\t<h3 className=\"text-light font-weight-bold mb-3\">Subscribe to our newsletters</h3>\n\t\t\t\t\t<form action=\"/subscribe\" method=\"POST\" onSubmit={handleSubmit}>\n\t\t\t\t\t\t<div className=\"form-group mb-2 d-flex flex-column\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"p-2 px-md-4 rounded-top w-100 border-0\"\n\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\tplaceholder=\"yourname@email.com\"\n\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tpattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{showError ? (\n\t\t\t\t\t\t\t\t<p className=\"lead mt-2 text-danger\">Please, try again</p>\n\t\t\t\t\t\t\t) : sending ? (\n\t\t\t\t\t\t\t\t<p className=\"lead mt-2 text-secondary\">Subscribing...</p>\n\t\t\t\t\t\t\t) : success ? (\n\t\t\t\t\t\t\t\t<p className=\"lead mt-2 text-light\">Thanks for subscribing to my newsletter</p>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<button id=\"submit\" className=\"btn bg-primary__light text-light p-2 rounded-bottom\" type=\"submit\">\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Subscribe;\n"]},"metadata":{},"sourceType":"module"}